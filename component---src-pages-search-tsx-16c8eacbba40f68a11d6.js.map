{"version":3,"file":"component---src-pages-search-tsx-16c8eacbba40f68a11d6.js","mappings":"uOAOO,SAASA,IACd,IAAMC,GAAOC,EAAAA,EAAAA,gBAAe,cAQ5B,EAA0BC,EAAAA,SAAe,IAAlCC,EAAP,KAAcC,EAAd,KACA,EAA8BF,EAAAA,WAAiBG,EAAAA,GAAvCC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UACVC,GAASC,EAAAA,EAAAA,IAAsBN,EAAOG,GAEtCI,EAAWR,EAAAA,QAAa,GAY9B,OAVAA,EAAAA,WAAgB,WACTQ,EAASC,SAAYL,IAAUH,IAClCO,EAASC,SAAU,EAEnBC,MAAMZ,EAAKM,OAAOO,WACfC,MAAK,SAACC,GAAD,OAASA,EAAIC,MADrB,IAEGF,MAAK,SAACE,GAAD,OAAUT,EAAUS,EAF5B,IAJJ,GAQG,CAACV,EAAQH,KAGVc,EAAAA,EAAAA,IAAAA,MAAAA,MACEA,EAAAA,EAAAA,IAAAA,QAAAA,CAAOC,KAAK,OAAOC,MAAOhB,EAAOiB,SAAU,SAACC,GAAD,OAAOjB,EAASiB,EAAEC,OAAOH,MAAzB,KAC3CF,EAAAA,EAAAA,IAAAA,KAAAA,KACGT,EAAOe,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACVP,EAAAA,EAAAA,IAAAA,KAAAA,CAAIQ,IAAKD,EAAKE,IAAKF,EAAKG,MADzB,KAMR,CAED,W","sources":["webpack://gatsby-starter-default/./src/pages/search.tsx"],"sourcesContent":["//@ts-nocheck\n\nimport { AppContext } from '../context/app';\nimport { graphql, useStaticQuery } from 'gatsby';\nimport * as React from 'react';\nimport { useGatsbyPluginFusejs } from 'react-use-fusejs';\n\nexport function Search() {\n  const data = useStaticQuery(graphql`\n    {\n      fusejs {\n        publicUrl\n      }\n    }\n  `);\n\n  const [query, setQuery] = React.useState('');\n  const { fusejs, setFusejs } = React.useContext(AppContext);\n  const result = useGatsbyPluginFusejs(query, fusejs);\n\n  const fetching = React.useRef(false);\n\n  React.useEffect(() => {\n    if (!fetching.current && !fusejs && query) {\n      fetching.current = true;\n\n      fetch(data.fusejs.publicUrl)\n        .then((res) => res.json())\n        .then((json) => setFusejs(json));\n    }\n  }, [fusejs, query]);\n\n  return (\n    <div>\n      <input type=\"text\" value={query} onChange={(e) => setQuery(e.target.value)} />\n      <ul>\n        {result.map(({ item }) => (\n          <li key={item.id}>{item.title}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Search;\n"],"names":["Search","data","useStaticQuery","React","query","setQuery","AppContext","fusejs","setFusejs","result","useGatsbyPluginFusejs","fetching","current","fetch","publicUrl","then","res","json","___EmotionJSX","type","value","onChange","e","target","map","item","key","id","title"],"sourceRoot":""}