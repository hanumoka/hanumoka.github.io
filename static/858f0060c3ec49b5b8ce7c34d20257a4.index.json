{"index":"{\"keys\":[{\"path\":[\"title\"],\"id\":\"title\",\"weight\":1,\"src\":\"title\",\"getFn\":null},{\"path\":[\"body\"],\"id\":\"body\",\"weight\":1,\"src\":\"body\",\"getFn\":null},{\"path\":[\"slug\"],\"id\":\"slug\",\"weight\":1,\"src\":\"slug\",\"getFn\":null}],\"records\":[{\"i\":0,\"$\":{\"0\":{\"v\":\"Test1\",\"n\":1},\"1\":{\"v\":\"\\n### 1. Help Google Bot to Find My Contents\\n\\nêµ¬ê¸€ì— SiteMapì„ ì œì¶œí•˜ì—¬ ì‚¬ì´íŠ¸ì— ìˆëŠ” íŒŒì¼ë¡œì„œ ìƒˆ í˜ì´ì§€ë‚˜ ë³€ê²½ëœ í˜ì´ì§€ê°€ ìˆì„ ë•Œ ì´ë¥¼ ê²€ìƒ‰ ì—”ì§„ì— ì•Œë ¤ì£¼ë„ë¡ í•  ìˆ˜ ìˆë‹¤.\\n\\nêµ¬ê¸€ì— SiteMapì„ ì œì¶œí•˜ì—¬ ì‚¬ì´íŠ¸ì— ìˆëŠ” íŒŒì¼ë¡œì„œ ìƒˆ í˜ì´ì§€ë‚˜ ë³€ê²½ëœ í˜ì´ì§€ê°€ ìˆì„ ë•Œ ì´ë¥¼ ê²€ìƒ‰ ì—”ì§„ì— ì•Œë ¤ì£¼ë„ë¡ í•  ìˆ˜ ìˆë‹¤.\\n\\nSiteMapì€ ì‚¬ì´íŠ¸ì— ìˆëŠ” í˜ì´ì§€, ë™ì˜ìƒ ë° ê¸°íƒ€ íŒŒì¼ê³¼ ê° ê´€ê³„ì— ê´€í•œ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” íŒŒì¼ë¡œ, ê²€ìƒ‰ ì—”ì§„ì€ ì´ë¥¼ ì½ê³  ì‚¬ì´íŠ¸ë¥¼ ë” ì§€ëŠ¥ì ìœ¼ë¡œ í¬ë¡¤ë§ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\\n\\n### 2. Use 'Robots.txt' File\\n\\nRobots.txt íŒŒì¼ì€ ê²€ìƒ‰ ì—”ì§„ì— ì–´ë–¤ í˜ì´ì§€ë¥¼ í¬ë¡¤ë§í•´ë„ ë˜ëŠ”ì§€ ì•Œë¦¬ëŠ” íŒŒì¼ë¡œ, ì„œë²„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ìˆì–´ì•¼ í•œë‹¤.\\n\\nê³¼ë„í•œ Robots.txt íŒŒì¼ì€ ë” ë§ì€ ë°©ë¬¸ìë¥¼ ìœ ë„í•  ìˆ˜ ìˆëŠ” ì •ìƒì ì¸ ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ëŸ¬ì˜ ì ‘ê·¼ì„ ë§‰ì„ ê°€ëŠ¥ì„±ì´ ìˆê¸° ë•Œë¬¸ì— ì ì ˆí•˜ê²Œ ì„¤ì •í•´ì•¼ í•œë‹¤.\\n\\n---\\n\\n## Source\\n\\n- SEO ê¸°ë³¸ ê°€ì´ë“œ\\n\\n  [<https://support.google.com/webmasters/answer/7451184?hl=ko&ref_topic=9460495>](https://support.google.com/webmasters/answer/7451184?hl=ko&ref_topic=9460495)\\n\",\"n\":0.094},\"2\":{\"v\":\"/post/test/\",\"n\":1}}},{\"i\":1,\"$\":{\"0\":{\"v\":\"JPA Cascadeì™€ mappedByì˜ í˜¼ë™?(feat. orphanRemoval)\",\"n\":0.447},\"1\":{\"v\":\"\\n# ğŸ§¦ê°œìš”\\n\\nJPAë¥¼ ê³µë¶€í•˜ë©´ì„œ Cascadeì™€ MappedByì—ì„œ í˜¼ë™(ë­”ê°€ ê¸°ëŠ¥ìƒ ì˜ì—­ì´ ê²¹ì³ì§„ë‹¤ëŠ” ëŠë‚Œ)ì„ ëŠê¼ˆê³ , ê·¸ ë‚´ìš©ì„ ì •ë¦¬í•´ ë³´ë ¤ê³  í•œë‹¤.\\n\\nì¼ë‹¨ JPA Cascadeì™€ MappledByê°€ ë¬´ì—‡ì¸ì§€ ê³µë¶€í•˜ê³ , ëŒ€ì±„ ë¬´ì—‡ì´ í˜¼ë™ë˜ì—ˆëŠ”ì§€ ì•Œì•„ë³¼ ìƒê°ì´ë‹¤.\\n\\n# ğŸ§¤JPA Cascade(ì˜ì†ì„±ì „ì˜)ë€?\\n\\n## JPA Cascadeì˜ ì •ì˜\\n\\nJPA CascadeëŠ” ì˜ì†ì„±ì „ì˜ë¥¼ ë§í•œë‹¤. ë¶€ëª¨ì—”í‹°í‹°ì™€ ìì‹ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ê°€ ì„¤ì •ëœ ìƒí™©ì—ì„œ ë¶€ëª¨ì—”í‹°í‹°ì˜ ì˜ì†ì„± ìƒíƒœ ë³€í™”ê°€ ë°œìƒí•  ê²½ìš° í•´ë‹¹ ë¶€ëª¨ì—”í‹°í‹°ì— ì—°ê´€ê´€ê³„ë¡œ ì—°ê²°ëœ ìì‹ì—”í‹°í‹°ì—ë„ ìë™ìœ¼ë¡œ ì˜ì†ì„± ìƒíƒœë³€í™”ë¥¼ ì „íŒŒì‹œí‚¤ëŠ” ê²ƒì„ ë§í•œë‹¤.\\n\\nCascadeëŠ” ì—”í‹°í‹° ì„ ì–¸ì‹œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•  ë•Œ ì˜µì…˜ìœ¼ë¡œ ì„¤ì •í• ìˆ˜ ìˆìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ì˜µì…˜ìœ¼ë¡œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤.\\n\\nì˜ˆë¥¼ ë“¤ì–´ ê²Œì‹œê¸€ê³¼ ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ì´ ìˆëŠ”ê²½ìš°, ê²Œì‹œê¸€ì´ ì‚¬ì œë  ë•Œ í•´ë‹¹ ê²Œì‹œê¸€ì˜ ì‚­ì œê°€ ê°™ì´ ì‚­ì œë˜ëŠ” ê¸°ëŠ¥ì„ ì ìš©í•˜ê³  ì‹¶ì„ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í• ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤.\\n\\n<aside>\\nâš ï¸ ì‰½ê²Œ ë§í•´ ë¶€ëª¨ì—”í‹°í‹°ê°€ í¼ì‹œìŠ¤í„´ìŠ¤ ì˜ì†í™”ê°€ ë ë•Œ ìì‹ì—”í‹°í‹°ë¥¼ í•¨ê»˜ setìœ¼ë¡œ ì„¤ì •í•´ ë†“ìœ¼ë©´, ìì‹ ì—”í‹°í‹°ë„ í•¨ê»˜ ìë™ìœ¼ë¡œ í¼ì‹œìŠ¤í„´ìŠ¤ ì˜ì†í™”ê°€ ë˜ê³ , ë¶€ëª¨ì—”í‹°í‹°ê°€ ì‚­ì œë˜ë©´ í•´ë‹¹ ë¶€ëª¨ì—”í‹°í‹°ì˜ ìì‹ ì—”í‹°í‹°ë„ í•¨ê»˜ ì‚­ì œ ê°€ ë˜ëŠ” ê²ƒì´ë‹¤.\\n\\n</aside>\\n\\n<aside>\\nâš ï¸ RDBì—ì„œ FK ì„¤ì •ì‹œ ì‚¬ìš©ë˜ëŠ” cascadeì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ë³´ë©´ ì´í•´ê°€ ìŠ†ë‹¤.\\n\\n</aside>\\n\\n## ğŸ‘“JPA Cascade ì˜µì…˜ ì¢…ë¥˜\\n\\nì•„ë˜ 6ê°œ ì •ë„ì˜ JPA Cascade ì˜µì…˜ì¢…ë¥˜ê°€ ì¡´ì¬í•˜ëŠ”ë° ALL, PERSIST, REMOVE ì •ë„ë§Œ ì‚¬ìš©ëœë‹¤ê³  í•œë‹¤.(ì¸í”„ëŸ°ì—ì„œ ê¹€ì˜í™˜ë‹˜ì€ ì£¼ë¡œ ALL, PERSIST ì •ë„ë§Œ ì‚¬ìš©í•˜ì‹ ë‹¤ê³  í•œë‹¤.)\\n\\n- **CascadeType.ALL : ëª¨ë‘ ì ìš©**\\n  - ë¶€ëª¨ì—”í‹°í‹°ì˜ ëª¨ë“  ì˜ì†ì„±ìƒíƒœ ë³€í™”ê°€ ìì‹ì—”í‹°í‹°ì— ë°˜ì˜ëœë‹¤.\\n- **CascadeType.PERSIST: ì˜ì†**\\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ í¼ì‹œìŠ¤í„´ìŠ¤ë ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ê»˜ í¼ì‹œìŠ¤í„´íŠ¸ ìƒíƒœê°€ ëœë‹¤.\\n- **CascadeType.REMOVE: ì‚­ì œ**\\n\\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ ì‚­ì œë ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ì„ ì‚­ì œ ëœë‹¤.\\n\\n- CascadeType.MERGE: ë³‘í•©\\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ merge ì‘ì—…ì´ ìˆ˜í–‰ë  ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ê²Œ mergeì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤.\\n- CascadeType.REFRESH: REFRESH\\n  - entityManager.refersh() ì‘ì—…ìœ¼ë¡œ ë¶€ëª¨ì—”í‹°í‹°ê°€ ìƒˆë¡œê³ ì¹¨ ë  ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ê»˜ ìƒˆë¡œê³ ì¹¨ì´ ëœë‹¤.(ë¦¬í”„ë˜ì‰¬ëŠ” DBì—ì„œ í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ì¬ì¡°íšŒ í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.)\\n- CascadeType.DETACH: DETACH\\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì½˜í…ìŠ¤íŠ¸ì—ì„œ detachë˜ë©´ ìì‹ì—”í‹°í‹°ë„ í•¨ê»˜ detachëœë‹¤.\\n\\n### JPA Cascade ê°„ë‹¨ì˜ˆì œ\\n\\n- Parent ì—”í‹°í‹°\\n  - 1:ë‹¤ ê´€ê³„ì—ì„œ CascaeType.Allì´ ì§€ì •ë˜ì–´ ìˆë‹¤.\\n\\n```java\\npackage com.example.jpaexample.entity;\\n\\nimport jakarta.persistence.*;\\nimport lombok.Data;\\n\\nimport java.util.ArrayList;\\nimport java.util.List;\\n\\n@Data\\n@Entity\\npublic class Parent {\\n    @Id\\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\\n    @Column(name = \\\"id\\\", nullable = false)\\n    private Long id;\\n\\n    private String name;\\n\\n    @OneToMany(mappedBy = \\\"parent\\\", cascade = CascadeType.ALL)\\n    private List<Children> childrenList = new ArrayList<>();\\n\\n    public void addChildren(Children children){\\n        this.childrenList.add(children);\\n        children.setParent(this);\\n    }\\n\\n}\\n```\\n\\n- Children ì—”í‹°í‹°\\n\\n```java\\npackage com.example.jpaexample.entity;\\n\\nimport jakarta.persistence.*;\\nimport lombok.Data;\\n\\n@Data\\n@Entity\\npublic class Children {\\n    @Id\\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\\n    @Column(name = \\\"id\\\", nullable = false)\\n    private Long id;\\n\\n    private String name;\\n\\n    @ManyToOne\\n    @JoinColumn(name=\\\"parent_id\\\")\\n    private Parent parent;\\n}\\n```\\n\\n- ìœ„ì²˜ëŸ¼ Parentì™€ Chidren ì—”í‹°í‹°ê°€ 1:ë‹¤ ì—°ê´€ê´€ê³„ì¼ ê²½ìš° ì•„ë˜ì²˜ëŸ¼ Parentì— Childenì„ ëª¨ë‘ ë‹´ì•„ Parent ê°ì²´ì˜ í•œë²ˆì˜ ì €ì¥ìœ¼ë¡œ ì—°ê´€ëœ Children ì—”í‹°í‹°ë¥¼ í•œêº¼ë²ˆì— ì €ì¥í• ìˆ˜ ìˆë‹¤.\\n\\n```java\\nParent parent = new Parent();\\nparent.setName(\\\"ë¶€ëª¨1\\\");\\n\\nChildren children1 = new Children();\\nchildren1.setName(\\\"ìì‹1\\\");\\n\\nChildren children2 = new Children();\\nchildren2.setName(\\\"ìì‹2\\\");\\n\\nparent.addChildren(children1);\\nparent.addChildren(children2);\\n\\nentityManager.persist(parent);\\n```\\n\\n## JPA Cacade ì‚¬ìš©ì‹œ ìœ ì˜ì \\n\\nCascade ì˜µì…˜ì€ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\\n\\në¬´ë¶„ë³„í•œ ì‚¬ìš©ì€ ì„±ëŠ¥ ì €í•˜ë‚˜ ë°ì´í„° ë¬´ê²°ì„± ë¬¸ì œë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤.\\n\\nì˜ë„ì¹˜ ì•Šê²Œ ê³ ì•„ ë°ì´í„°ê°€ ìƒì„±ë˜ê±°ë‚˜, ë°˜ëŒ€ë¡œ ì‚­ì œë˜ë©´ ì•ˆë˜ëŠ” ë°ì´í„°ê°€ ì‚­ì œë˜ì–´ ë²„ë¦¬ëŠ” ë™ì‘ì´ ë°œìƒí• ìˆ˜ ìˆìœ¼ë¯€ë¡œ JPA Cascade ê¸°ëŠ¥ì€ í”„ë¡œì íŠ¸ë‚´ì—ì„œ ì‚¬ìš©ê·œì¹™ì„ ì •í•˜ê³  êµ¬í˜„í•˜ëŠ” ë¹„ì§€ë‹ˆìŠ¤ì— ì£¼ì˜í•˜ì—¬ ì ìš©í•´ì•¼ í•œë‹¤.\\n\\n<aside>\\nâš ï¸ JPA Cascadeì˜ ì‚¬ìš©ì‹œ ì£¼ì˜í•´ì•¼ í•˜ëŠ” ê²½ìš°ì˜ ì˜ˆ\\nAë¼ëŠ” ë¶€ëª¨, Bë¼ëŠ” ë¶€ëª¨ê°€ ë™ì‹œì— Cë¼ëŠ” ìì‹ì—”í‹°í‹°ë¥¼ ì—°ê´€ê´€ê³„ë¡œ ê°–ì„ ë•Œ, ë§Œì•½ Aë¼ëŠ” ì—”í‹°í‹°ì—ì„œ Cascade.REMOVEê°€ ì„¤ì •ë˜ì–´ ìˆê³  Aê°€ ì‚­ì œê°€ ë˜ëŠ” ê²½ìš° Bë¶€ëª¨ ì—”í‹°í‹°ì—ì„œëŠ” ì—°ê´€ê´€ê³„ê°€ ê¹¨ì§€ëŠ” ìƒí™©ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.\\n\\n</aside>\\n\\n<aside>\\nâš ï¸ TIP. \\në¶€ëª¨ì—”í‹°í‹°ì™€ ìì‹ì—”í‹°í‹°ì˜ ë¼ì´í”„ë¼ì´í´ì´ ê±°ì˜ ë™ì¼í•˜ê³ ,\\nìì‹ì—”í‹°í‹°ê°€ í•œ ë¶€ëª¨ì—”í‹°í‹°ì—ë§Œ ì†í•œê²½ìš°ì— í¸ì˜ì„±ì„ ìœ„í•´ JPA Cascadeë¥¼ ê³ ë ¤í•´ ë³´ì.\\n\\n</aside>\\n\\n## ğŸŒ‚ê³ ì•„ê°ì²´\\n\\n- ê³ ì•„ê°ì²´ë€ ë¶€ëª¨ì—”í‹°í‹°ì™€ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ë¥¼ ë§í•œë‹¤.\\n- ì´ëŸ° ê³ ì•„ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ì˜µì…˜ ë˜í•œ ì¡´ì¬í•œë‹¤.\\n  - orphanRemoval = true\\n\\nì•„ë˜ëŠ” orphanRemovalì˜ ì˜ˆì´ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ëœ ê²½ìš° ë¶€ëª¨ì—”í‹°í‹°ì™€ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ì§„ Children ì—”í‹°í‹°ëŠ” DBì—ì„œ ì§€ì›Œì§€ê²Œ ëœë‹¤.\\n\\norphanRemoval ì„¤ì •ì€ @OneToMany, @OneToManyì— ì„¤ì •ì´ ê°€ëŠ¥í•˜ë©° ë³´í†µ @OneToManyì— ì‚¬ìš©ëœë‹¤.\\n\\n```java\\n@Data\\n@Entity\\npublic class Parent {\\n    @Id\\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\\n    @Column(name = \\\"id\\\", nullable = false)\\n    private Long id;\\n\\n    private String name;\\n\\n    @OneToMany(mappedBy = \\\"parent\\\", cascade = CascadeType.ALL)\\n    private List<Children> childrenList = new ArrayList<>();\\n\\n    public void addChildren(Children children){\\n        this.childrenList.add(children);\\n        children.setParent(this);\\n    }\\n\\n}\\n```\\n\\n- orphanRemoval = true ì™€ CascadeType.REMOVEì˜ ì°¨ì´ì \\n  - ì–¼í•ë³´ë©· ë‘ê°œê°€ ë™ì¼í•œ ê¸°ëŠ¥ì„ í•˜ëŠ”ê²ƒ ì²˜ëŸ¼ ë³´ì¼ìˆ˜ë„ ìˆì§€ë§Œ ì•½ê°„ ì°¨ì´ê°€ ìˆë‹¤.\\n  - CascadeType.Remove\\n    - ë¶€ëª¨ ì—”í‹°í‹°ê°€ ì‚­ì œë  ë•Œ, ì—°ê´€ëœ ìì‹ ì—”í‹°í‹°ë„ í•¨ê»˜ ì‚­ì œëœë‹¤. ë‹¨ìˆœíˆ ë¶€ëª¨ ì—”í‹°í‹°ê°€ ì‚­ì œë˜ì—ˆì„ ë•Œ, ê´€ë ¨ëœ ìì‹ ì—”í‹°í‹°ë¥¼ ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.]\\n  - orphanRemoval = true\\n    - ë¶€ëª¨ ì—”í‹°í‹°ì™€ì˜ ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ë¥¼ ì‚­ì œí•œë‹¤. ë¶€ëª¨ ì—”í‹°í‹°ê°€ ì‚­ì œë˜ì§€ ì•Šë”ë¼ë„, ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ëŠ” ì‚­ì œëœë‹¤. ê´€ê³„ê°€ ëŠì–´ì§„ \\\"ê³ ì•„\\\" ì—”í‹°í‹°ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\\n\\n## ğŸ¯Â Cascade.ALL + orphanRemoval =true ì¸ ê²½ìš° ë¶€ëª¨ì—”í‹°í‹°ëŠ” ìì‹ì—”í‹°í‹°ì˜ ëª¨ë“  ë¼ì´í”„ì‚¬ì´í´ì„ ê´€ë¦¬í•œë‹¤.\\n\\nCascade.ALL + orphanRemoval = true ê°€ ëœ ê²½ìš° ë¶€ëª¨ì—”í‹°í‹°ì—ì„œ ìì‹ì—”í‹°í‹°ì˜ ë¼ì´í”„ì‚¬ì´í´ì„ ì „ë¶€ ê´€ë¦¬ í• ìˆ˜ ìˆë‹¤.\\n\\nì´ ê²½ìš° ìì‹ì—”í‹°í‹°ëŠ” ë³„ë„ì˜ DAO, Repository ë“±ì„ ìƒì„±í•˜ì§€ ì•Šê³  ì´ëŸ° ê¸°ëŠ¥ë“¤ì„ ë¶€ëª¨ì—”í‹°í‹°ì— ë„˜ê¸¸ìˆ˜ ìˆê²Œ ëœë‹¤.\\n\\në„ë©”ì¸ ì£¼ë„ ì„¤ê³„(DDD)ì˜ Aggreate Root ê°œë…ì„ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤.\\n\\n# ğŸ§£JPA mappedByë€?\\n\\nmappedByëŠ” JPAì—ì„œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í• ë•Œ, ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ëˆ„êµ¬ì¸ì§€ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤.\\nì–‘ë°©í– ì—°ê´€ê´€ê³„ì—ì„œë§Œ ì‚¬ìš©ë˜ë¯€ë¡œ @OneToMay, @ManyToMany ì—ì„œë§Œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤.\\nì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ëŠ” ë§ì€ DBì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ì°¸ì¡°í‚¤ê°€ í•„ìš”í•œë°, ì´ ì°¸ì¡°í‚¤ë¥¼ ì‹¤ì œ ê°™ëŠ” ì—”í‹°í‹°ë¥¼ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ ì—”í‹°í‹°ë¼ ë¶€ë¥¸ë‹¤.\\nì¦‰ mappedBy ì„¤ì •ì´ë€ ì´ëŸ° ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì—ì„œ ì–´ë–¤ ì—”í‹°í‹°ì— ì‹¤ì œ ì—°ê´€ê´€ê³„ë¥¼ ìœ„í•œ ì°¸ì¡°í‚¤ë¥¼ ì €ì¥í• ê²ƒì¸ì§€ë¥¼ ì„¤ì •í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.\\n\\nì•„ë˜ Parent ì—”í‹°í‹°ì— mappledBy = â€œparentâ€ ë¼ëŠ” ì„¤ì •ì˜ ì˜ë¯¸ëŠ” ë‚˜ Parent ì—”í‹°í‹°ëŠ” ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹ˆë‹¤. ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.\\n\\në‚˜ ë§ê³  ìƒëŒ€ ì—”í‹°í‹°ì¸ Children ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë©°, í•´ë‹¹ì—”í‹°í‹°ì˜ parent ë¼ëŠ” í”„ë¡œí¼í‹°ê°€ ì‹¤ì œ DBì—ì„œ ì°¸ì¡°í‚¤ë¥¼ ì €ì¥í•˜ëŠ” ì»¬ëŸ¼ì´ë‹¤ ë¼ê³  ëª…ì‹œí•œ ê²ƒì´ë‹¤.\\n\\n```java\\n@Data\\n@Entity\\npublic class Parent {\\n    @Id\\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\\n    @Column(name = \\\"id\\\", nullable = false)\\n    private Long id;\\n\\n    private String name;\\n\\n    @OneToMany(mappedBy = \\\"parent\\\", cascade = CascadeType.ALL)\\n    private List<Children> childrenList = new ArrayList<>();\\n\\n    public void addChildren(Children children){\\n        this.childrenList.add(children);\\n        children.setParent(this);\\n    }\\n\\n}\\nData\\n@Entity\\npublic class Children {\\n    @Id\\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\\n    @Column(name = \\\"id\\\", nullable = false)\\n    private Long id;\\n\\n    private String name;\\n\\n    @ManyToOne\\n    @JoinColumn(name=\\\"parent_id\\\")\\n    private Parent parent;\\n}\\n```\\n\\n<aside>\\nâš ï¸ mappedBy ì‚¬ìš©ì‹œ í–‡ê°ˆë¦¬ëŠ” ë¶€ë¶„ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹Œ ì—”í‹°í‹°ì— mappedBy ì„¤ì •ì´ ë“¤ì–´ê°„ë‹¤.\\nmappedBy ì˜µì…˜ì´ ë³´ì¸ë‹¤ë©´ í•´ë‹¹ ì—”í‹°í‹°ì˜ ë°˜ëŒ€í¸ ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë©°, ê·¸ ì£¼ì¸ ì—”í‹°í‹°ì— ì‹¤ì œ FK ê°€ ì €ì¥ëœë‹¤.\\n\\n</aside>\\n\\n## ì—°ê´€ê´€ê³„ì£¼ì¸ì˜ ê¶Œí•œ : ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í• ìˆ˜ ìˆëŠ” ê¶Œí•œì˜ ì—°ê´€ê´€ê³„ ì£¼ì¸ì´ ê°–ëŠ”ë‹¤.\\n\\nìœ„ ì˜ˆì œì—ì„œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ Childrenì´ë‹¤. ì¦‰ Children ì—”í‹°í‹°ì—ì„œ setParent í˜¸ì¶œë§Œì´ ì‹¤ì œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ê²Œ ëœë‹¤.\\n\\nì•„ë˜ Parent ë¶€ëª¨ì—”í‹°í‹°ì˜ addChildren ë©”ì†Œë“œë¥¼ ë³´ë©´ children.setParent ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë§Œì•½ children.setParen í˜¸ì¶œí•˜ì§€ ì•Šê²Œ ë˜ë©´, Parent, Children ì—”í‹°í‹°ëŠ” DBì— ì €ì¥ë˜ì§€ë§Œ ì—°ê´€ê´€ê³„ ì—†ì´ ì €ì¥ë˜ê²Œ ëœë‹¤.\\n\\n```java\\npublic void addChildren(Children children){\\n        this.childrenList.add(children);\\n        children.setParent(this);\\n}\\n```\\n\\n# ğŸ©ë‚œ ì™œ Cascadeì™€ mappedByê°€ í˜¼ë™ë˜ëŠ”ê°€?\\n\\nì´ê¸€ì„ í†µí•´ ë‹¤ì‹œ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´ì„œ ë‚´ê°€ ì™œ, ë¬´ì—‡ì„ í˜¼ë™í•˜ê²Œ ë˜ì—ˆëŠ”ì§€ ì•Œì•˜ë‹¤.\\n\\në‹¤ìŒê³¼ ê°™ì´ Cascadeì„¤ì •ì€ ì—†ì§€ë§Œ, @OneToMany(mappedBy = \\\"parent\\\", orphanRemoval = true) ì„¤ì •ì„ í•˜ê³ , parentì— removeChildrenì„ í•˜ê²Œ ë˜ë©´ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ ì§€ë©´ì„œ orphanRemoval = true ë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ìì‹ ì—”í‹°í‹°ì¸ Children ì—”í‹°í‹°ê°€ ì‚­ì œ ëœë‹¤.\\në¶€ëª¨ì—”í‹°í‹°ì˜ Cascade ì„¤ì • ì—†ì´, ë©”ì†Œë“œí˜¸ì¶œë¡œ ìì‹ì—”í‹°í‹°ë¥¼ ì‚­ì œí•˜ëŠ” ë™ì‘ì„ Cascadeì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ìŠ¤ìŠ¤ë¡œ ì—¬ê¸´ê²ƒ ê°™ë‹¤.(â€¦. ëŒ€ì²´ ì™œ??? ëŒ€ì¶© ê³µë¶€í•´ì„œ ê·¸ëŸ°ë“¯ í•˜ë‹¤.)\\n\\n```java\\n@Data\\n@Entity\\npublic class Parent {\\n    @Id\\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\\n    @Column(name = \\\"id\\\", nullable = false)\\n    private Long id;\\n\\n    private String name;\\n\\n    @OneToMany(mappedBy = \\\"parent\\\", orphanRemoval = true)\\n    private List<Children> childrenList = new ArrayList<>();\\n\\n    public void addChildren(Children children){\\n        this.childrenList.add(children);\\n        children.setParent(this);\\n    }\\n\\n    public void removeChildren(Children children){\\n        this.childrenList.remove(children);\\n        children.setParent(null);\\n    }\\n}\\n```\\n\\n# ğŸ£ì •ë¦¬\\n\\n- Cascadeì™€ mappedby ëŠ” í˜¼ë™ë  ê²ƒì´ ì—†ë‹¤.\\n- CascadeëŠ” ì˜ì†ì„±ë¼ì´í”„ì‚¬ì´í´ì— ê´€ë ¨ëœ ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒì‹œ ê·¸ ì´ë²¤íŠ¸ë¥¼ ìì‹ ì—”í‹°í‹°ì— ì „íŒŒí• ê²ƒì¸ì§€ì— ëŒ€í•œ ì„¤ì •ì´ë‹¤.\\n- mappedByëŠ” ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì—ì„œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ëª…ì‹œí•˜ëŠ” ì„¤ì •ì´ë‹¤.\\n- mappedByì™€ orphanRemoval = trueë¥¼ ê°™ì´ ì‚¬ìš©í•˜ë©´, ë¶€ëª¨ì—”í‹°í‹°ì—ì„œ ì—°ê´€ê´€ê³„ ë„ìš°ë¯¸?ë©”ì†Œë“œë¥¼ í†µí•´ ì‰½ê²Œ ì œê±° í• ìˆ˜ ìˆë‹¤.\\n- Cascade.ALL + orphanRemoval =true ê°™ì´ ì‚¬ìš©í•˜ë©´, ë¶€ëª¨ì—”í‹°í‹°ì—ì„œ ìì‹ì—”í‹°í‹°ì˜ ë¼ì´í”„ì‚¬ì´í´ì„ ì™„ì „íˆ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆë‹¤.\\n  - ìì‹ì—”í‹°í‹°ì˜ DAO, repositoryë¥¼ ë§Œë“¤ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.\\n\\n# ğŸ§¢ì°¸ê³ ìë£Œ\\n\\n- ì¸í”„ëŸ° - ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° -ê¸°ë³¸í¸ (ê¹€ì˜í™˜)\\n- ì±… - ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° (ê¹€ì˜í™˜)\\n- chatGPT\\n\",\"n\":0.031},\"2\":{\"v\":\"/post/cascade_vs_mappedby/\",\"n\":1}}}]}","data":[{"id":"28bcd3c3-9826-5d50-8ae7-a67d3b7c69a2","title":"Test1","body":"\n### 1. Help Google Bot to Find My Contents\n\nêµ¬ê¸€ì— SiteMapì„ ì œì¶œí•˜ì—¬ ì‚¬ì´íŠ¸ì— ìˆëŠ” íŒŒì¼ë¡œì„œ ìƒˆ í˜ì´ì§€ë‚˜ ë³€ê²½ëœ í˜ì´ì§€ê°€ ìˆì„ ë•Œ ì´ë¥¼ ê²€ìƒ‰ ì—”ì§„ì— ì•Œë ¤ì£¼ë„ë¡ í•  ìˆ˜ ìˆë‹¤.\n\nêµ¬ê¸€ì— SiteMapì„ ì œì¶œí•˜ì—¬ ì‚¬ì´íŠ¸ì— ìˆëŠ” íŒŒì¼ë¡œì„œ ìƒˆ í˜ì´ì§€ë‚˜ ë³€ê²½ëœ í˜ì´ì§€ê°€ ìˆì„ ë•Œ ì´ë¥¼ ê²€ìƒ‰ ì—”ì§„ì— ì•Œë ¤ì£¼ë„ë¡ í•  ìˆ˜ ìˆë‹¤.\n\nSiteMapì€ ì‚¬ì´íŠ¸ì— ìˆëŠ” í˜ì´ì§€, ë™ì˜ìƒ ë° ê¸°íƒ€ íŒŒì¼ê³¼ ê° ê´€ê³„ì— ê´€í•œ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” íŒŒì¼ë¡œ, ê²€ìƒ‰ ì—”ì§„ì€ ì´ë¥¼ ì½ê³  ì‚¬ì´íŠ¸ë¥¼ ë” ì§€ëŠ¥ì ìœ¼ë¡œ í¬ë¡¤ë§ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\n\n### 2. Use 'Robots.txt' File\n\nRobots.txt íŒŒì¼ì€ ê²€ìƒ‰ ì—”ì§„ì— ì–´ë–¤ í˜ì´ì§€ë¥¼ í¬ë¡¤ë§í•´ë„ ë˜ëŠ”ì§€ ì•Œë¦¬ëŠ” íŒŒì¼ë¡œ, ì„œë²„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ìˆì–´ì•¼ í•œë‹¤.\n\nê³¼ë„í•œ Robots.txt íŒŒì¼ì€ ë” ë§ì€ ë°©ë¬¸ìë¥¼ ìœ ë„í•  ìˆ˜ ìˆëŠ” ì •ìƒì ì¸ ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ëŸ¬ì˜ ì ‘ê·¼ì„ ë§‰ì„ ê°€ëŠ¥ì„±ì´ ìˆê¸° ë•Œë¬¸ì— ì ì ˆí•˜ê²Œ ì„¤ì •í•´ì•¼ í•œë‹¤.\n\n---\n\n## Source\n\n- SEO ê¸°ë³¸ ê°€ì´ë“œ\n\n  [<https://support.google.com/webmasters/answer/7451184?hl=ko&ref_topic=9460495>](https://support.google.com/webmasters/answer/7451184?hl=ko&ref_topic=9460495)\n","slug":"/post/test/"},{"id":"d45dae87-00ad-59c6-80fd-f36880f41cf1","title":"JPA Cascadeì™€ mappedByì˜ í˜¼ë™?(feat. orphanRemoval)","body":"\n# ğŸ§¦ê°œìš”\n\nJPAë¥¼ ê³µë¶€í•˜ë©´ì„œ Cascadeì™€ MappedByì—ì„œ í˜¼ë™(ë­”ê°€ ê¸°ëŠ¥ìƒ ì˜ì—­ì´ ê²¹ì³ì§„ë‹¤ëŠ” ëŠë‚Œ)ì„ ëŠê¼ˆê³ , ê·¸ ë‚´ìš©ì„ ì •ë¦¬í•´ ë³´ë ¤ê³  í•œë‹¤.\n\nì¼ë‹¨ JPA Cascadeì™€ MappledByê°€ ë¬´ì—‡ì¸ì§€ ê³µë¶€í•˜ê³ , ëŒ€ì±„ ë¬´ì—‡ì´ í˜¼ë™ë˜ì—ˆëŠ”ì§€ ì•Œì•„ë³¼ ìƒê°ì´ë‹¤.\n\n# ğŸ§¤JPA Cascade(ì˜ì†ì„±ì „ì˜)ë€?\n\n## JPA Cascadeì˜ ì •ì˜\n\nJPA CascadeëŠ” ì˜ì†ì„±ì „ì˜ë¥¼ ë§í•œë‹¤. ë¶€ëª¨ì—”í‹°í‹°ì™€ ìì‹ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ê°€ ì„¤ì •ëœ ìƒí™©ì—ì„œ ë¶€ëª¨ì—”í‹°í‹°ì˜ ì˜ì†ì„± ìƒíƒœ ë³€í™”ê°€ ë°œìƒí•  ê²½ìš° í•´ë‹¹ ë¶€ëª¨ì—”í‹°í‹°ì— ì—°ê´€ê´€ê³„ë¡œ ì—°ê²°ëœ ìì‹ì—”í‹°í‹°ì—ë„ ìë™ìœ¼ë¡œ ì˜ì†ì„± ìƒíƒœë³€í™”ë¥¼ ì „íŒŒì‹œí‚¤ëŠ” ê²ƒì„ ë§í•œë‹¤.\n\nCascadeëŠ” ì—”í‹°í‹° ì„ ì–¸ì‹œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•  ë•Œ ì˜µì…˜ìœ¼ë¡œ ì„¤ì •í• ìˆ˜ ìˆìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ì˜µì…˜ìœ¼ë¡œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´ ê²Œì‹œê¸€ê³¼ ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ì´ ìˆëŠ”ê²½ìš°, ê²Œì‹œê¸€ì´ ì‚¬ì œë  ë•Œ í•´ë‹¹ ê²Œì‹œê¸€ì˜ ì‚­ì œê°€ ê°™ì´ ì‚­ì œë˜ëŠ” ê¸°ëŠ¥ì„ ì ìš©í•˜ê³  ì‹¶ì„ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í• ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤.\n\n<aside>\nâš ï¸ ì‰½ê²Œ ë§í•´ ë¶€ëª¨ì—”í‹°í‹°ê°€ í¼ì‹œìŠ¤í„´ìŠ¤ ì˜ì†í™”ê°€ ë ë•Œ ìì‹ì—”í‹°í‹°ë¥¼ í•¨ê»˜ setìœ¼ë¡œ ì„¤ì •í•´ ë†“ìœ¼ë©´, ìì‹ ì—”í‹°í‹°ë„ í•¨ê»˜ ìë™ìœ¼ë¡œ í¼ì‹œìŠ¤í„´ìŠ¤ ì˜ì†í™”ê°€ ë˜ê³ , ë¶€ëª¨ì—”í‹°í‹°ê°€ ì‚­ì œë˜ë©´ í•´ë‹¹ ë¶€ëª¨ì—”í‹°í‹°ì˜ ìì‹ ì—”í‹°í‹°ë„ í•¨ê»˜ ì‚­ì œ ê°€ ë˜ëŠ” ê²ƒì´ë‹¤.\n\n</aside>\n\n<aside>\nâš ï¸ RDBì—ì„œ FK ì„¤ì •ì‹œ ì‚¬ìš©ë˜ëŠ” cascadeì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ë³´ë©´ ì´í•´ê°€ ìŠ†ë‹¤.\n\n</aside>\n\n## ğŸ‘“JPA Cascade ì˜µì…˜ ì¢…ë¥˜\n\nì•„ë˜ 6ê°œ ì •ë„ì˜ JPA Cascade ì˜µì…˜ì¢…ë¥˜ê°€ ì¡´ì¬í•˜ëŠ”ë° ALL, PERSIST, REMOVE ì •ë„ë§Œ ì‚¬ìš©ëœë‹¤ê³  í•œë‹¤.(ì¸í”„ëŸ°ì—ì„œ ê¹€ì˜í™˜ë‹˜ì€ ì£¼ë¡œ ALL, PERSIST ì •ë„ë§Œ ì‚¬ìš©í•˜ì‹ ë‹¤ê³  í•œë‹¤.)\n\n- **CascadeType.ALL : ëª¨ë‘ ì ìš©**\n  - ë¶€ëª¨ì—”í‹°í‹°ì˜ ëª¨ë“  ì˜ì†ì„±ìƒíƒœ ë³€í™”ê°€ ìì‹ì—”í‹°í‹°ì— ë°˜ì˜ëœë‹¤.\n- **CascadeType.PERSIST: ì˜ì†**\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ í¼ì‹œìŠ¤í„´ìŠ¤ë ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ê»˜ í¼ì‹œìŠ¤í„´íŠ¸ ìƒíƒœê°€ ëœë‹¤.\n- **CascadeType.REMOVE: ì‚­ì œ**\n\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ ì‚­ì œë ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ì„ ì‚­ì œ ëœë‹¤.\n\n- CascadeType.MERGE: ë³‘í•©\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ merge ì‘ì—…ì´ ìˆ˜í–‰ë  ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ê²Œ mergeì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤.\n- CascadeType.REFRESH: REFRESH\n  - entityManager.refersh() ì‘ì—…ìœ¼ë¡œ ë¶€ëª¨ì—”í‹°í‹°ê°€ ìƒˆë¡œê³ ì¹¨ ë  ë•Œ ìì‹ì—”í‹°í‹°ë„ í•¨ê»˜ ìƒˆë¡œê³ ì¹¨ì´ ëœë‹¤.(ë¦¬í”„ë˜ì‰¬ëŠ” DBì—ì„œ í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ì¬ì¡°íšŒ í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.)\n- CascadeType.DETACH: DETACH\n  - ë¶€ëª¨ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì½˜í…ìŠ¤íŠ¸ì—ì„œ detachë˜ë©´ ìì‹ì—”í‹°í‹°ë„ í•¨ê»˜ detachëœë‹¤.\n\n### JPA Cascade ê°„ë‹¨ì˜ˆì œ\n\n- Parent ì—”í‹°í‹°\n  - 1:ë‹¤ ê´€ê³„ì—ì„œ CascaeType.Allì´ ì§€ì •ë˜ì–´ ìˆë‹¤.\n\n```java\npackage com.example.jpaexample.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Data\n@Entity\npublic class Parent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = \"parent\", cascade = CascadeType.ALL)\n    private List<Children> childrenList = new ArrayList<>();\n\n    public void addChildren(Children children){\n        this.childrenList.add(children);\n        children.setParent(this);\n    }\n\n}\n```\n\n- Children ì—”í‹°í‹°\n\n```java\npackage com.example.jpaexample.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\n@Data\n@Entity\npublic class Children {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name=\"parent_id\")\n    private Parent parent;\n}\n```\n\n- ìœ„ì²˜ëŸ¼ Parentì™€ Chidren ì—”í‹°í‹°ê°€ 1:ë‹¤ ì—°ê´€ê´€ê³„ì¼ ê²½ìš° ì•„ë˜ì²˜ëŸ¼ Parentì— Childenì„ ëª¨ë‘ ë‹´ì•„ Parent ê°ì²´ì˜ í•œë²ˆì˜ ì €ì¥ìœ¼ë¡œ ì—°ê´€ëœ Children ì—”í‹°í‹°ë¥¼ í•œêº¼ë²ˆì— ì €ì¥í• ìˆ˜ ìˆë‹¤.\n\n```java\nParent parent = new Parent();\nparent.setName(\"ë¶€ëª¨1\");\n\nChildren children1 = new Children();\nchildren1.setName(\"ìì‹1\");\n\nChildren children2 = new Children();\nchildren2.setName(\"ìì‹2\");\n\nparent.addChildren(children1);\nparent.addChildren(children2);\n\nentityManager.persist(parent);\n```\n\n## JPA Cacade ì‚¬ìš©ì‹œ ìœ ì˜ì \n\nCascade ì˜µì…˜ì€ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\n\në¬´ë¶„ë³„í•œ ì‚¬ìš©ì€ ì„±ëŠ¥ ì €í•˜ë‚˜ ë°ì´í„° ë¬´ê²°ì„± ë¬¸ì œë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤.\n\nì˜ë„ì¹˜ ì•Šê²Œ ê³ ì•„ ë°ì´í„°ê°€ ìƒì„±ë˜ê±°ë‚˜, ë°˜ëŒ€ë¡œ ì‚­ì œë˜ë©´ ì•ˆë˜ëŠ” ë°ì´í„°ê°€ ì‚­ì œë˜ì–´ ë²„ë¦¬ëŠ” ë™ì‘ì´ ë°œìƒí• ìˆ˜ ìˆìœ¼ë¯€ë¡œ JPA Cascade ê¸°ëŠ¥ì€ í”„ë¡œì íŠ¸ë‚´ì—ì„œ ì‚¬ìš©ê·œì¹™ì„ ì •í•˜ê³  êµ¬í˜„í•˜ëŠ” ë¹„ì§€ë‹ˆìŠ¤ì— ì£¼ì˜í•˜ì—¬ ì ìš©í•´ì•¼ í•œë‹¤.\n\n<aside>\nâš ï¸ JPA Cascadeì˜ ì‚¬ìš©ì‹œ ì£¼ì˜í•´ì•¼ í•˜ëŠ” ê²½ìš°ì˜ ì˜ˆ\nAë¼ëŠ” ë¶€ëª¨, Bë¼ëŠ” ë¶€ëª¨ê°€ ë™ì‹œì— Cë¼ëŠ” ìì‹ì—”í‹°í‹°ë¥¼ ì—°ê´€ê´€ê³„ë¡œ ê°–ì„ ë•Œ, ë§Œì•½ Aë¼ëŠ” ì—”í‹°í‹°ì—ì„œ Cascade.REMOVEê°€ ì„¤ì •ë˜ì–´ ìˆê³  Aê°€ ì‚­ì œê°€ ë˜ëŠ” ê²½ìš° Bë¶€ëª¨ ì—”í‹°í‹°ì—ì„œëŠ” ì—°ê´€ê´€ê³„ê°€ ê¹¨ì§€ëŠ” ìƒí™©ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.\n\n</aside>\n\n<aside>\nâš ï¸ TIP. \në¶€ëª¨ì—”í‹°í‹°ì™€ ìì‹ì—”í‹°í‹°ì˜ ë¼ì´í”„ë¼ì´í´ì´ ê±°ì˜ ë™ì¼í•˜ê³ ,\nìì‹ì—”í‹°í‹°ê°€ í•œ ë¶€ëª¨ì—”í‹°í‹°ì—ë§Œ ì†í•œê²½ìš°ì— í¸ì˜ì„±ì„ ìœ„í•´ JPA Cascadeë¥¼ ê³ ë ¤í•´ ë³´ì.\n\n</aside>\n\n## ğŸŒ‚ê³ ì•„ê°ì²´\n\n- ê³ ì•„ê°ì²´ë€ ë¶€ëª¨ì—”í‹°í‹°ì™€ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ë¥¼ ë§í•œë‹¤.\n- ì´ëŸ° ê³ ì•„ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ì˜µì…˜ ë˜í•œ ì¡´ì¬í•œë‹¤.\n  - orphanRemoval = true\n\nì•„ë˜ëŠ” orphanRemovalì˜ ì˜ˆì´ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ëœ ê²½ìš° ë¶€ëª¨ì—”í‹°í‹°ì™€ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ì§„ Children ì—”í‹°í‹°ëŠ” DBì—ì„œ ì§€ì›Œì§€ê²Œ ëœë‹¤.\n\norphanRemoval ì„¤ì •ì€ @OneToMany, @OneToManyì— ì„¤ì •ì´ ê°€ëŠ¥í•˜ë©° ë³´í†µ @OneToManyì— ì‚¬ìš©ëœë‹¤.\n\n```java\n@Data\n@Entity\npublic class Parent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = \"parent\", cascade = CascadeType.ALL)\n    private List<Children> childrenList = new ArrayList<>();\n\n    public void addChildren(Children children){\n        this.childrenList.add(children);\n        children.setParent(this);\n    }\n\n}\n```\n\n- orphanRemoval = true ì™€ CascadeType.REMOVEì˜ ì°¨ì´ì \n  - ì–¼í•ë³´ë©· ë‘ê°œê°€ ë™ì¼í•œ ê¸°ëŠ¥ì„ í•˜ëŠ”ê²ƒ ì²˜ëŸ¼ ë³´ì¼ìˆ˜ë„ ìˆì§€ë§Œ ì•½ê°„ ì°¨ì´ê°€ ìˆë‹¤.\n  - CascadeType.Remove\n    - ë¶€ëª¨ ì—”í‹°í‹°ê°€ ì‚­ì œë  ë•Œ, ì—°ê´€ëœ ìì‹ ì—”í‹°í‹°ë„ í•¨ê»˜ ì‚­ì œëœë‹¤. ë‹¨ìˆœíˆ ë¶€ëª¨ ì—”í‹°í‹°ê°€ ì‚­ì œë˜ì—ˆì„ ë•Œ, ê´€ë ¨ëœ ìì‹ ì—”í‹°í‹°ë¥¼ ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.]\n  - orphanRemoval = true\n    - ë¶€ëª¨ ì—”í‹°í‹°ì™€ì˜ ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ë¥¼ ì‚­ì œí•œë‹¤. ë¶€ëª¨ ì—”í‹°í‹°ê°€ ì‚­ì œë˜ì§€ ì•Šë”ë¼ë„, ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ëŠ” ì‚­ì œëœë‹¤. ê´€ê³„ê°€ ëŠì–´ì§„ \"ê³ ì•„\" ì—”í‹°í‹°ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\n\n## ğŸ¯Â Cascade.ALL + orphanRemoval =true ì¸ ê²½ìš° ë¶€ëª¨ì—”í‹°í‹°ëŠ” ìì‹ì—”í‹°í‹°ì˜ ëª¨ë“  ë¼ì´í”„ì‚¬ì´í´ì„ ê´€ë¦¬í•œë‹¤.\n\nCascade.ALL + orphanRemoval = true ê°€ ëœ ê²½ìš° ë¶€ëª¨ì—”í‹°í‹°ì—ì„œ ìì‹ì—”í‹°í‹°ì˜ ë¼ì´í”„ì‚¬ì´í´ì„ ì „ë¶€ ê´€ë¦¬ í• ìˆ˜ ìˆë‹¤.\n\nì´ ê²½ìš° ìì‹ì—”í‹°í‹°ëŠ” ë³„ë„ì˜ DAO, Repository ë“±ì„ ìƒì„±í•˜ì§€ ì•Šê³  ì´ëŸ° ê¸°ëŠ¥ë“¤ì„ ë¶€ëª¨ì—”í‹°í‹°ì— ë„˜ê¸¸ìˆ˜ ìˆê²Œ ëœë‹¤.\n\në„ë©”ì¸ ì£¼ë„ ì„¤ê³„(DDD)ì˜ Aggreate Root ê°œë…ì„ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤.\n\n# ğŸ§£JPA mappedByë€?\n\nmappedByëŠ” JPAì—ì„œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í• ë•Œ, ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ëˆ„êµ¬ì¸ì§€ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤.\nì–‘ë°©í– ì—°ê´€ê´€ê³„ì—ì„œë§Œ ì‚¬ìš©ë˜ë¯€ë¡œ @OneToMay, @ManyToMany ì—ì„œë§Œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤.\nì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ëŠ” ë§ì€ DBì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ì°¸ì¡°í‚¤ê°€ í•„ìš”í•œë°, ì´ ì°¸ì¡°í‚¤ë¥¼ ì‹¤ì œ ê°™ëŠ” ì—”í‹°í‹°ë¥¼ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ ì—”í‹°í‹°ë¼ ë¶€ë¥¸ë‹¤.\nì¦‰ mappedBy ì„¤ì •ì´ë€ ì´ëŸ° ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì—ì„œ ì–´ë–¤ ì—”í‹°í‹°ì— ì‹¤ì œ ì—°ê´€ê´€ê³„ë¥¼ ìœ„í•œ ì°¸ì¡°í‚¤ë¥¼ ì €ì¥í• ê²ƒì¸ì§€ë¥¼ ì„¤ì •í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.\n\nì•„ë˜ Parent ì—”í‹°í‹°ì— mappledBy = â€œparentâ€ ë¼ëŠ” ì„¤ì •ì˜ ì˜ë¯¸ëŠ” ë‚˜ Parent ì—”í‹°í‹°ëŠ” ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹ˆë‹¤. ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.\n\në‚˜ ë§ê³  ìƒëŒ€ ì—”í‹°í‹°ì¸ Children ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë©°, í•´ë‹¹ì—”í‹°í‹°ì˜ parent ë¼ëŠ” í”„ë¡œí¼í‹°ê°€ ì‹¤ì œ DBì—ì„œ ì°¸ì¡°í‚¤ë¥¼ ì €ì¥í•˜ëŠ” ì»¬ëŸ¼ì´ë‹¤ ë¼ê³  ëª…ì‹œí•œ ê²ƒì´ë‹¤.\n\n```java\n@Data\n@Entity\npublic class Parent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = \"parent\", cascade = CascadeType.ALL)\n    private List<Children> childrenList = new ArrayList<>();\n\n    public void addChildren(Children children){\n        this.childrenList.add(children);\n        children.setParent(this);\n    }\n\n}\nData\n@Entity\npublic class Children {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name=\"parent_id\")\n    private Parent parent;\n}\n```\n\n<aside>\nâš ï¸ mappedBy ì‚¬ìš©ì‹œ í–‡ê°ˆë¦¬ëŠ” ë¶€ë¶„ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹Œ ì—”í‹°í‹°ì— mappedBy ì„¤ì •ì´ ë“¤ì–´ê°„ë‹¤.\nmappedBy ì˜µì…˜ì´ ë³´ì¸ë‹¤ë©´ í•´ë‹¹ ì—”í‹°í‹°ì˜ ë°˜ëŒ€í¸ ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë©°, ê·¸ ì£¼ì¸ ì—”í‹°í‹°ì— ì‹¤ì œ FK ê°€ ì €ì¥ëœë‹¤.\n\n</aside>\n\n## ì—°ê´€ê´€ê³„ì£¼ì¸ì˜ ê¶Œí•œ : ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í• ìˆ˜ ìˆëŠ” ê¶Œí•œì˜ ì—°ê´€ê´€ê³„ ì£¼ì¸ì´ ê°–ëŠ”ë‹¤.\n\nìœ„ ì˜ˆì œì—ì„œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ Childrenì´ë‹¤. ì¦‰ Children ì—”í‹°í‹°ì—ì„œ setParent í˜¸ì¶œë§Œì´ ì‹¤ì œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ê²Œ ëœë‹¤.\n\nì•„ë˜ Parent ë¶€ëª¨ì—”í‹°í‹°ì˜ addChildren ë©”ì†Œë“œë¥¼ ë³´ë©´ children.setParent ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë§Œì•½ children.setParen í˜¸ì¶œí•˜ì§€ ì•Šê²Œ ë˜ë©´, Parent, Children ì—”í‹°í‹°ëŠ” DBì— ì €ì¥ë˜ì§€ë§Œ ì—°ê´€ê´€ê³„ ì—†ì´ ì €ì¥ë˜ê²Œ ëœë‹¤.\n\n```java\npublic void addChildren(Children children){\n        this.childrenList.add(children);\n        children.setParent(this);\n}\n```\n\n# ğŸ©ë‚œ ì™œ Cascadeì™€ mappedByê°€ í˜¼ë™ë˜ëŠ”ê°€?\n\nì´ê¸€ì„ í†µí•´ ë‹¤ì‹œ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´ì„œ ë‚´ê°€ ì™œ, ë¬´ì—‡ì„ í˜¼ë™í•˜ê²Œ ë˜ì—ˆëŠ”ì§€ ì•Œì•˜ë‹¤.\n\në‹¤ìŒê³¼ ê°™ì´ Cascadeì„¤ì •ì€ ì—†ì§€ë§Œ, @OneToMany(mappedBy = \"parent\", orphanRemoval = true) ì„¤ì •ì„ í•˜ê³ , parentì— removeChildrenì„ í•˜ê²Œ ë˜ë©´ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ ì§€ë©´ì„œ orphanRemoval = true ë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ìì‹ ì—”í‹°í‹°ì¸ Children ì—”í‹°í‹°ê°€ ì‚­ì œ ëœë‹¤.\në¶€ëª¨ì—”í‹°í‹°ì˜ Cascade ì„¤ì • ì—†ì´, ë©”ì†Œë“œí˜¸ì¶œë¡œ ìì‹ì—”í‹°í‹°ë¥¼ ì‚­ì œí•˜ëŠ” ë™ì‘ì„ Cascadeì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ìŠ¤ìŠ¤ë¡œ ì—¬ê¸´ê²ƒ ê°™ë‹¤.(â€¦. ëŒ€ì²´ ì™œ??? ëŒ€ì¶© ê³µë¶€í•´ì„œ ê·¸ëŸ°ë“¯ í•˜ë‹¤.)\n\n```java\n@Data\n@Entity\npublic class Parent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = \"parent\", orphanRemoval = true)\n    private List<Children> childrenList = new ArrayList<>();\n\n    public void addChildren(Children children){\n        this.childrenList.add(children);\n        children.setParent(this);\n    }\n\n    public void removeChildren(Children children){\n        this.childrenList.remove(children);\n        children.setParent(null);\n    }\n}\n```\n\n# ğŸ£ì •ë¦¬\n\n- Cascadeì™€ mappedby ëŠ” í˜¼ë™ë  ê²ƒì´ ì—†ë‹¤.\n- CascadeëŠ” ì˜ì†ì„±ë¼ì´í”„ì‚¬ì´í´ì— ê´€ë ¨ëœ ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒì‹œ ê·¸ ì´ë²¤íŠ¸ë¥¼ ìì‹ ì—”í‹°í‹°ì— ì „íŒŒí• ê²ƒì¸ì§€ì— ëŒ€í•œ ì„¤ì •ì´ë‹¤.\n- mappedByëŠ” ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì—ì„œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ëª…ì‹œí•˜ëŠ” ì„¤ì •ì´ë‹¤.\n- mappedByì™€ orphanRemoval = trueë¥¼ ê°™ì´ ì‚¬ìš©í•˜ë©´, ë¶€ëª¨ì—”í‹°í‹°ì—ì„œ ì—°ê´€ê´€ê³„ ë„ìš°ë¯¸?ë©”ì†Œë“œë¥¼ í†µí•´ ì‰½ê²Œ ì œê±° í• ìˆ˜ ìˆë‹¤.\n- Cascade.ALL + orphanRemoval =true ê°™ì´ ì‚¬ìš©í•˜ë©´, ë¶€ëª¨ì—”í‹°í‹°ì—ì„œ ìì‹ì—”í‹°í‹°ì˜ ë¼ì´í”„ì‚¬ì´í´ì„ ì™„ì „íˆ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆë‹¤.\n  - ìì‹ì—”í‹°í‹°ì˜ DAO, repositoryë¥¼ ë§Œë“¤ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.\n\n# ğŸ§¢ì°¸ê³ ìë£Œ\n\n- ì¸í”„ëŸ° - ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° -ê¸°ë³¸í¸ (ê¹€ì˜í™˜)\n- ì±… - ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° (ê¹€ì˜í™˜)\n- chatGPT\n","slug":"/post/cascade_vs_mappedby/"}]}